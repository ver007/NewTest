<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!--<script type="text/javascript" src="jquery-1.11.2.js"></script>-->
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <script type="text/javascript" src="d3.js"></script>
    <title></title>
</head>
<body>
<style>
    svg line{
        stroke: grey;
        stroke-width: 2;
    }
</style>
<script type="text/javascript">
    <!--设置画布-->
    var w1 = 2048;
    var h1 = 2048;
    var svg = d3.select("body")
            .append("svg")
            .attr("width", w1)          //设置宽度
            .attr("height", h1);        //设置高度
//    读取数据
     var json={"nodes":[{"id":42,"y":228.00452556314053,"x":586.303922812816},{"id":49,"y":486.44124365392395,"x":1060.1495604206116},{"id":63,"y":361.14701916203126,"x":-244.93965942742597},{"id":3,"y":375.0822075409851,"x":430.8723713896742},{"id":94,"y":799.1622531156906,"x":1009.2257486569091},{"id":36,"y":-232.47844825892105,"x":-240.4797774434445},{"id":83,"y":746.1284470817611,"x":1249.3922844855265},{"id":90,"y":54.511237566009754,"x":88.73835673309509},{"id":93,"y":184.78572909852403,"x":833.3085525837128},{"id":87,"y":284.9889033581438,"x":827.6965053060678},{"id":91,"y":-94.07165932163252,"x":676.8484445748885},{"id":53,"y":135.4860999599955,"x":438.8291923710394},{"id":73,"y":-163.17347878178037,"x":987.4595115287959},{"id":74,"y":588.6327267346812,"x":770.6484940359034},{"id":82,"y":-55.155682834934964,"x":274.981767945883},{"id":35,"y":523.0215774345556,"x":919.711530003468},{"id":5,"y":566.1773969208232,"x":1428.1731153219798},{"id":26,"y":68.5797380141039,"x":315.3952742583928},{"id":92,"y":-354.3572453429502,"x":765.9728603128422},{"id":29,"y":-0.27363608514764337,"x":652.9515881238457},{"id":61,"y":121.70999139496791,"x":559.4801526441447},{"id":2,"y":309.97919420584213,"x":234.38567946771855},{"id":24,"y":679.4717032688357,"x":795.8194517469868},{"id":69,"y":420.3049722542398,"x":566.021530071258},{"id":72,"y":406.0082727738918,"x":734.5104571223534},{"id":14,"y":1047.3917516320691,"x":-71.81188743496273},{"id":52,"y":8.610223049636659,"x":-320.3447515701828},{"id":22,"y":599.1538681605441,"x":938.2805545213066},{"id":27,"y":313.5790605736484,"x":172.20068321652502},{"id":28,"y":181.16319667236922,"x":993.5207126491006},{"id":23,"y":321.8353911595315,"x":41.72943656357518},{"id":71,"y":481.33309661582746,"x":-14.9380666879415},{"id":20,"y":687.3208458052197,"x":1140.6783447450266},{"id":54,"y":575.0642817841024,"x":-130.3469133540534},{"id":75,"y":782.1882446800175,"x":297.57807195669807},{"id":34,"y":325.19464933910035,"x":1076.8972680091706},{"id":86,"y":683.0321577709678,"x":399.8533758676506},{"id":70,"y":433.47792913150363,"x":968.2108915614052},{"id":55,"y":324.91989341506047,"x":767.9186229258403},{"id":98,"y":263.94881364580937,"x":-146.09080674806842},{"id":64,"y":948.7407364139474,"x":646.7484601883406},{"id":21,"y":699.4150458281285,"x":547.4144829556888},{"id":88,"y":-153.60094254665785,"x":599.7989021185452},{"id":7,"y":461.44976585670406,"x":-350.5962055899595},{"id":60,"y":431.63475374039933,"x":-100.90061727025568},{"id":32,"y":792.6402032909165,"x":836.7829043969513},{"id":80,"y":-200.2377197609086,"x":305.5316432752393},{"id":81,"y":282.48165050397705,"x":443.69397921576916},{"id":68,"y":490.3773327531346,"x":410.7566447795125},{"id":25,"y":948.1884279887404,"x":174.33445822901473},{"id":79,"y":-81.91192241535987,"x":-19.05402328595403},{"id":8,"y":895.8263974604232,"x":267.1850557021435},{"id":57,"y":403.5856238074067,"x":180.419605003093},{"id":0,"y":-184.44563884989253,"x":53.31510409794055},{"id":77,"y":561.8762456559293,"x":282.48704197372183},{"id":44,"y":492.39452926637205,"x":547.7537665426047},{"id":51,"y":331.2556752040744,"x":-68.76560930275429},{"id":76,"y":1017.8350218978821,"x":1257.4859431560144},{"id":59,"y":556.6136071395722,"x":182.69500421321095},{"id":62,"y":450.7002033295574,"x":233.45203718917935},{"id":16,"y":432.91435644153944,"x":107.78681665100407},{"id":43,"y":174.10744478674064,"x":-520.9989665062476},{"id":58,"y":143.20742964955684,"x":184.59470654463234},{"id":45,"y":80.9617451469802,"x":694.5666709172947},{"id":12,"y":233.2795867364893,"x":1111.021589760981},{"id":1,"y":591.3224211448321,"x":683.9067890560559},{"id":95,"y":25.06777025022177,"x":200.52722221598788},{"id":84,"y":209.10892169427848,"x":152.06625800903703},{"id":99,"y":834.2101090555149,"x":643.6190246487913},{"id":97,"y":38.995610128964074,"x":1088.2942031227751},{"id":6,"y":908.6199941606794,"x":512.9545504433097},{"id":96,"y":505.97819533642735,"x":1168.4665390375212},{"id":41,"y":-54.273935646205246,"x":895.3605254797021},{"id":13,"y":677.9772611137367,"x":154.13516857736448},{"id":11,"y":225.02872002720278,"x":-29.231295986694192},{"id":4,"y":829.9772255847016,"x":393.1454778612651},{"id":18,"y":-290.1183761537138,"x":1402.0140970792309},{"id":56,"y":57.581795144527234,"x":931.8341125000546},{"id":15,"y":555.9144431070081,"x":473.6364452712206},{"id":48,"y":349.49985398732804,"x":1202.1392863773979},{"id":39,"y":661.2709104637805,"x":467.2711164069218},{"id":37,"y":416.35850823439876,"x":840.5262283360835},{"id":85,"y":234.84407951122694,"x":265.9109147406658},{"id":38,"y":918.3728266637605,"x":1020.4506623050386},{"id":31,"y":-13.051516885506942,"x":43.26562718599973},{"id":9,"y":503.7846314198363,"x":668.1535294338996},{"id":40,"y":771.3766938773603,"x":591.6414021356063},{"id":46,"y":163.61550735337818,"x":1215.9004823456985},{"id":66,"y":138.5456157976156,"x":-60.79259188036286},{"id":50,"y":-60.8379959031044,"x":421.3499890244641},{"id":65,"y":310.44564259215036,"x":369.21251742230095},{"id":47,"y":331.79382744190895,"x":670.5541973889008},{"id":67,"y":1136.3636234338057,"x":339.66005394870194},{"id":19,"y":-414.00138507582193,"x":1010.1670133843495},{"id":89,"y":31.858402385740646,"x":-44.85599933547712},{"id":17,"y":1063.249725538358,"x":696.7541914813868},{"id":33,"y":696.2254983475259,"x":671.9953248481163},{"id":78,"y":178.15625280712504,"x":668.6704932862103},{"id":10,"y":-186.30468149577615,"x":1108.5824303960223},{"id":30,"y":256.48732395981256,"x":-282.21065443434406}],"links":[{"source":57,"target":77},{"source":12,"target":34},{"source":9,"target":21},{"source":78,"target":42},{"source":95,"target":84},{"source":31,"target":66},{"source":8,"target":25},{"source":10,"target":73},{"source":39,"target":21},{"source":28,"target":34},{"source":31,"target":0},{"source":23,"target":71},{"source":30,"target":63},{"source":73,"target":41},{"source":40,"target":64},{"source":11,"target":90},{"source":33,"target":15},{"source":82,"target":90},{"source":60,"target":11},{"source":41,"target":97},{"source":87,"target":47},{"source":86,"target":40},{"source":2,"target":58},{"source":59,"target":16},{"source":78,"target":29},{"source":61,"target":78},{"source":31,"target":89},{"source":98,"target":30},{"source":9,"target":55},{"source":27,"target":84},{"source":69,"target":47},{"source":91,"target":50},{"source":94,"target":32},{"source":55,"target":93},{"source":95,"target":90},{"source":45,"target":78},{"source":95,"target":50},{"source":33,"target":32},{"source":48,"target":49},{"source":3,"target":44},{"source":69,"target":15},{"source":90,"target":58},{"source":60,"target":54},{"source":68,"target":86},{"source":40,"target":74},{"source":49,"target":35},{"source":99,"target":21},{"source":68,"target":81},{"source":68,"target":15},{"source":72,"target":78},{"source":87,"target":55},{"source":74,"target":72},{"source":20,"target":94},{"source":57,"target":84},{"source":82,"target":50},{"source":77,"target":15},{"source":96,"target":20},{"source":53,"target":81},{"source":25,"target":8},{"source":35,"target":70},{"source":82,"target":80},{"source":95,"target":31},{"source":26,"target":82},{"source":2,"target":16},{"source":1,"target":24},{"source":28,"target":56},{"source":62,"target":27},{"source":38,"target":94},{"source":22,"target":74},{"source":21,"target":4},{"source":72,"target":37},{"source":41,"target":91},{"source":77,"target":13},{"source":2,"target":65},{"source":20,"target":83},{"source":3,"target":85},{"source":44,"target":1},{"source":27,"target":2},{"source":8,"target":75},{"source":51,"target":66},{"source":46,"target":97},{"source":74,"target":35},{"source":34,"target":96},{"source":90,"target":89},{"source":16,"target":62},{"source":64,"target":17},{"source":51,"target":16},{"source":56,"target":41},{"source":75,"target":86},{"source":85,"target":23},{"source":6,"target":40},{"source":26,"target":85},{"source":48,"target":46},{"source":98,"target":23},{"source":4,"target":8},{"source":79,"target":90},{"source":7,"target":63},{"source":88,"target":29},{"source":22,"target":49},{"source":63,"target":51}]};
     var nodes = json.nodes;
     var links = json.links;

//    画线
    for(var j=0;j<links.length;j++){
        var list = new  Array();
        for (var i=0;i<nodes.length;i++){
            if(nodes[i].id == links[j].source || nodes[i].id == links[j].target){
                   list.push(nodes[i]);
            }
        }
        svg.append("line") // <-A
                .attr("x1", list[0].x)
                .attr("y1", list[0].y)
                .attr("x2", list[1].x)
                .attr("y2", list[1].y);
    }
////    获取给定边的两端点对象
//    function getLinkNodes(link){
//        var list = new  Array();
//        for (var i=0;i<nodes.length;i++){
//            if(nodes[i].id == link.source || nodes[i].id == link.target){
//                   list.push(nodes[i]);
//            }
//            if(list[1]!==null) break;
//        }
//        return list;
//    }
//    画出json中的点
    for (var t=0;t<nodes.length;t++){
          var circles = svg.append("circle")           //  cx 圆心x坐标  cy圆心y坐标   r半径
                           .attr("cx", nodes[t].x)
                           .attr("cy", nodes[t].y) //将圆心放到svg高度中间
                           .attr("r", 10)
                           .attr("fill", "yellow")         //给各圆填充//黄色
                           .attr("stroke", "orange")       //给各圆边涂成橘黄
                           .attr("stroke-width",2);
    }


</script>

</body>
</html>